---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - vite.config.ts
  - tsconfig.json
  - tsconfig.node.json
  - tailwind.config.js
  - postcss.config.js
  - index.html
  - src/main.tsx
  - src/App.tsx
  - src/index.css
  - src/vite-env.d.ts
autonomous: true

must_haves:
  truths:
    - "npm run dev starts development server without errors"
    - "Browser loads application at localhost:5173"
    - "TypeScript compilation succeeds with strict mode"
    - "Tailwind utility classes apply correctly"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies and scripts"
      contains: "vite"
    - path: "vite.config.ts"
      provides: "Build configuration with path aliases"
      contains: "@vitejs/plugin-react"
    - path: "tsconfig.json"
      provides: "TypeScript configuration"
      contains: '"strict": true'
    - path: "tailwind.config.js"
      provides: "Tailwind configuration with custom theme"
      contains: "text-narrative"
    - path: "src/App.tsx"
      provides: "Root React component"
      exports: ["App"]
  key_links:
    - from: "src/main.tsx"
      to: "src/App.tsx"
      via: "React render"
      pattern: "import.*App"
    - from: "src/index.css"
      to: "tailwind"
      via: "Tailwind directives"
      pattern: "@tailwind"
---

<objective>
Set up the foundational project structure with Vite, React, TypeScript, and Tailwind CSS.

Purpose: Establish the development environment and build pipeline before any UI work begins.
Output: A running React application with all tooling configured and ready for component development.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-CONTEXT.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Vite project with React and TypeScript</name>
  <files>
    package.json
    vite.config.ts
    tsconfig.json
    tsconfig.node.json
    index.html
    src/main.tsx
    src/App.tsx
    src/vite-env.d.ts
  </files>
  <action>
    Create a new Vite project using the react-ts template:

    ```bash
    npm create vite@latest . -- --template react-ts
    npm install
    ```

    After creation, modify vite.config.ts to add path alias:
    ```typescript
    import { defineConfig } from 'vite'
    import react from '@vitejs/plugin-react'

    export default defineConfig({
      plugins: [react()],
      resolve: {
        alias: {
          '@': '/src',
        },
      },
    })
    ```

    Update tsconfig.json to include path alias and ensure strict mode:
    - Add `"paths": { "@/*": ["./src/*"] }` under compilerOptions
    - Add `"baseUrl": "."` under compilerOptions
    - Verify `"strict": true` is present

    Clear the default App.tsx content and replace with a minimal placeholder:
    ```typescript
    function App() {
      return (
        <div className="min-h-screen bg-background text-gray-100">
          <h1 className="text-narrative p-8">Dogs in the Vineyard</h1>
        </div>
      )
    }
    export default App
    ```

    Create folder structure:
    ```
    src/
    ├── components/
    │   ├── NodeMap/
    │   ├── NarrativePanel/
    │   ├── CharacterInfo/
    │   └── ui/
    ├── pages/
    ├── hooks/
    ├── types/
    └── assets/
        └── illustrations/
    ```

    Add .gitkeep files to empty directories to preserve structure in git.
  </action>
  <verify>
    Run `npm run dev` and confirm:
    - Server starts on localhost:5173
    - No TypeScript compilation errors in terminal
    - Browser shows "Dogs in the Vineyard" heading
  </verify>
  <done>
    Vite dev server runs, TypeScript compiles without errors, folder structure exists
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure Tailwind CSS with custom theme</name>
  <files>
    tailwind.config.js
    postcss.config.js
    src/index.css
  </files>
  <action>
    Install Tailwind and its dependencies:
    ```bash
    npm install -D tailwindcss postcss autoprefixer
    npx tailwindcss init -p
    ```

    Configure tailwind.config.js with custom theme for the game's aesthetic:
    ```javascript
    /** @type {import('tailwindcss').Config} */
    export default {
      content: [
        "./index.html",
        "./src/**/*.{js,ts,jsx,tsx}",
      ],
      theme: {
        extend: {
          fontSize: {
            'narrative': ['28px', { lineHeight: '1.6' }],
          },
          colors: {
            'background': '#1a1a1a',
            'surface': '#2a2a2a',
            'surface-light': '#3a3a3a',
          },
          maxWidth: {
            'prose': '66ch',
          },
        },
      },
      plugins: [],
    }
    ```

    Replace src/index.css with Tailwind directives:
    ```css
    @tailwind base;
    @tailwind components;
    @tailwind utilities;

    /* Base styles for atmospheric dark theme */
    body {
      @apply bg-background text-gray-100 antialiased;
    }
    ```

    Verify Tailwind is imported in src/main.tsx (should already import './index.css').
  </action>
  <verify>
    - Restart dev server (`npm run dev`)
    - Confirm the placeholder text displays at 28px size
    - Confirm dark background (#1a1a1a) applies to body
    - Inspect element to verify Tailwind classes are being applied
  </verify>
  <done>
    Tailwind CSS configured with custom theme (text-narrative size, background colors), styles apply correctly in browser
  </done>
</task>

<task type="auto">
  <name>Task 3: Install remaining dependencies</name>
  <files>
    package.json
  </files>
  <action>
    Install the remaining dependencies identified in research:
    ```bash
    npm install framer-motion react-router-dom
    ```

    Note: We're using react-router-dom (not just react-router) as that's the web package.

    Framer Motion is needed for:
    - AnimatePresence for sliding panel animations
    - Layout animations for smooth transitions

    React Router DOM is needed for:
    - Screen navigation (main view, character sheet modal)
    - URL-based routing for potential deep linking

    Verify package.json includes:
    - "framer-motion": "^12.x"
    - "react-router-dom": "^7.x"
    - All Vite/React/TypeScript dependencies from Task 1
    - All Tailwind dependencies from Task 2
  </action>
  <verify>
    - Run `npm ls framer-motion react-router-dom` to confirm installation
    - Run `npm run build` to verify no dependency conflicts
    - Build should complete without errors
  </verify>
  <done>
    All project dependencies installed, production build succeeds
  </done>
</task>

</tasks>

<verification>
Run these checks to verify the plan is complete:

1. **Dev server health:**
   ```bash
   npm run dev
   # Should start without errors, serve on localhost:5173
   ```

2. **TypeScript compilation:**
   ```bash
   npx tsc --noEmit
   # Should complete with no errors
   ```

3. **Production build:**
   ```bash
   npm run build
   # Should create dist/ folder without errors
   ```

4. **Folder structure:**
   ```bash
   ls -la src/components/ src/pages/ src/hooks/ src/types/ src/assets/
   # All directories should exist
   ```
</verification>

<success_criteria>
- Application runs in browser at localhost:5173
- TypeScript strict mode enabled and compiling
- Tailwind CSS applying custom theme (28px narrative text, dark background)
- Framer Motion and React Router installed
- Folder structure ready for component development
- Production build completes successfully
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
